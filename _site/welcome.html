<!DOCTYPE html>
<html>
<head>

    <!-- Document Settings -->
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />

    <!-- Base Meta -->
    <!-- dynamically fixing the title for tag/author pages -->



    <title>How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling</title>
    <meta name="HandheldFriendly" content="True" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- Styles'n'Scripts -->
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/screen.edited.css" />
    <link rel="stylesheet" type="text/css" href="/assets/built/syntax.css" />
    <!-- highlight.js -->
    <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css">
    <style>.hljs { background: none; }</style>

    <!--[if IE]>
        <style>
            p, ol, ul{
                width: 100%;
            }
            blockquote{
                width: 100%;
            }
        </style>
    <![endif]-->
    
    <!-- This tag outputs SEO meta+structured data and other important settings -->
    <meta name="description" content="Your go-to for daily programming advice!" />
    <link rel="canonical" href="http://localhost:4000/welcome" />
    <meta name="referrer" content="no-referrer-when-downgrade" />
    <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png?v=2">
    <link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png?v=2">
    <link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png?v=2">
    <link rel="manifest" href="/site.webmanifest?v=2">
    <link rel="mask-icon" href="/safari-pinned-tab.svg?v=2" color="#5bbad5">
    <link rel="shortcut icon" href="/favicon.ico?v=2">
    <meta name="msapplication-TileColor" content="#da532c">
    <meta name="theme-color" content="#0e79b3">

     <!--title below is coming from _includes/dynamic_title-->
    <meta property="og:site_name" content="Instructional Programming" />
    <meta property="og:type" content="website" />
    <meta property="og:title" content="How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling" />
    <meta property="og:description" content="Python is one of the fastest-growing programming languages of 2021, and it’s no wonder: it’s ease-of-use and versatility makes it a great choice for any sized project. One of its many use-cases are data extraction and ETL processes. A pain point often encountered is the management of recurring Python scripts" />
    <meta property="og:url" content="http://localhost:4000/welcome" />
    <meta property="og:image" content="http://localhost:4000//assets/uploads/new-project.jpg" />
    <meta property="article:publisher" content="https://www.facebook.com/instructionalprogramming" />
    <meta property="article:author" content="https://www.facebook.com/instructionalprogramming" />
    <meta property="article:published_time" content="2022-04-06T00:00:00-05:00" />
    <meta property="article:modified_time" content="2022-04-06T00:00:00-05:00" />
    <meta property="article:tag" content="Featured" />
    <meta name="twitter:card" content="summary_large_image" />
    <meta name="twitter:title" content="How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling" />
    <meta name="twitter:description" content="Python is one of the fastest-growing programming languages of 2021, and it’s no wonder: it’s ease-of-use and versatility makes it a great choice for any sized project. One of its many use-cases are data extraction and ETL processes. A pain point often encountered is the management of recurring Python scripts" />
    <meta name="twitter:url" content="http://localhost:4000/" />
    <meta name="twitter:image" content="http://localhost:4000//assets/uploads/new-project.jpg" />
    <meta name="twitter:label1" content="Written by" />
    <meta name="twitter:data1" content="Instructional Programming" />
    <meta name="twitter:label2" content="Filed under" />
    <meta name="twitter:data2" content="Featured" />
    <meta name="twitter:site" content="@InstructProgram" />
    <meta name="twitter:creator" content="@InstructProgram" />
    <meta property="og:image:width" content="1400" />
    <meta property="og:image:height" content="933" />

    <script type="application/ld+json">
{
    "@context": "https://schema.org",
    "@type": "Website",
    "publisher": {
        "@type": "Organization",
        "name": "Instructional Programming",
        "logo": "http://localhost:4000/assets/images/blog-icon.png"
    },
    "url": "http://localhost:4000/welcome",
    "image": {
        "@type": "ImageObject",
        "url": "http://localhost:4000//assets/uploads/new-project.jpg",
        "width": 2000,
        "height": 666
    },
    "mainEntityOfPage": {
        "@type": "WebPage",
        "@id": "http://localhost:4000/welcome"
    },
    "description": "Python is one of the fastest-growing programming languages of 2021, and it’s no wonder: it’s ease-of-use and versatility makes it a great choice for any sized project. One of its many use-cases are data extraction and ETL processes. A pain point often encountered is the management of recurring Python scripts"
}
    </script>

    <meta name="generator" content="Jekyll 3.6.2" />
    <link rel="alternate" type="application/rss+xml" title="How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling" href="/feed.xml" />


    <!-- Add Google Analytics  -->

</head>
<body class="post-template">

    <div class="site-wrapper">
        <!-- All the main content gets inserted here, index.hbs, post.hbs, etc -->
        <!-- default -->

<!-- The tag above means: insert everything in this file
into the {body} of the default.hbs template -->

<header class="site-header outer">
    <div class="inner">
        <nav class="site-nav">
    <div class="site-nav-left">
        
            
                <a class="site-nav-logo" href="http://localhost:4000/"><img src="/assets/images/blog-icon.png" alt="Instructional Programming" /></a>
            
        
        
            <ul class="nav" role="menu">
    <li class="nav-home" role="menuitem"><a href="/">Home</a></li>
    <li class="nav-featured" role="menuitem"><a href="/tag/featured/">Featured Posts</a></li>
    <li class="nav-about" role="menuitem"><a href="/about/">About</a></li>
    <li class="nav-contact" role="menuitem"><a href="/contact/">Contact</a></li>
</ul>

        
    </div>
    <div class="site-nav-right">
        <div class="social-links">
            
                <a class="social-link social-link-fb" href="https://facebook.com/instructionalprogramming" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>
</a>
            
            
                <a class="social-link social-link-ig" href="https://instagram.com/instructionalprogramming" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" class="ionicon" viewBox="0 0 512 512"><title>Logo Instagram</title><path d="M349.33 69.33a93.62 93.62 0 0193.34 93.34v186.66a93.62 93.62 0 01-93.34 93.34H162.67a93.62 93.62 0 01-93.34-93.34V162.67a93.62 93.62 0 0193.34-93.34h186.66m0-37.33H162.67C90.8 32 32 90.8 32 162.67v186.66C32 421.2 90.8 480 162.67 480h186.66C421.2 480 480 421.2 480 349.33V162.67C480 90.8 421.2 32 349.33 32z"/><path d="M377.33 162.67a28 28 0 1128-28 27.94 27.94 0 01-28 28zM256 181.33A74.67 74.67 0 11181.33 256 74.75 74.75 0 01256 181.33m0-37.33a112 112 0 10112 112 112 112 0 00-112-112z"/></svg></a>
            
            
                <a class="social-link social-link-tw" href="https://twitter.com/InstructProgram" target="_blank" rel="noopener"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>
</a>
            
        </div>
        
            <a class="subscribe-button" href="#subscribe">Subscribe</a>
        
    </div>
</nav>

    </div>
</header>

<!-- Everything inside the #post tags pulls data from the post -->
<!-- #post -->

<main id="site-main" class="site-main outer" role="main">
    <div class="inner">

        <article class="post-full  tag-featured post ">

            <header class="post-full-header">
                <section class="post-full-meta">
                    <time class="post-full-meta-date" datetime=" 6 April 2022"> 6 April 2022</time>
                    
                        <span class="date-divider">/</span>
                        
                            
                               <a href='/tag/featured/'>FEATURED</a>
                            
                        
                    
                </section>
                <h1 class="post-full-title">How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling</h1>
            </header>

            
            <figure class="post-full-image" style="background-image: url(/assets/uploads/new-project.jpg)">
            </figure>
            

            <section class="post-full-content">
                <div class="kg-card-markdown">
                    <p>Python is one of the <a href="https://www.jetbrains.com/lp/devecosystem-2021/">fastest-growing programming languages of 2021</a>, and it’s no wonder: it’s ease-of-use and versatility makes it a great choice for any sized project. One of its many use-cases are data extraction and ETL processes. A pain point often encountered is the management of recurring Python scripts outside the local system, i.e. cron tasks; I’ve yet to come across a cloud-based solution that makes the deployment and management of Python scripts an easy process.</p>

<p>That is, until now:<br />
<img src="/assets/uploads/airplane-cover.png" alt="" /><br />
<a href="https://www.airplane.dev">Airplane</a> is a platform that allows engineers to quickly create internal tools to power recurring workflows within their organization.</p>

<p>Through Airplane, operations where engineers would typically run scripts or SQL queries on behalf of others can be transformed into self-service tools for support, operations, and other teams.</p>

<p>You can read more about Airplane and its use-cases <a href="">here</a>.</p>

<p>In today’s guide, we’ll be covering the following topics:</p>

<ul>
  <li>Setting up a PostgreSQL database</li>
  <li>Setting up a task in Airplane</li>
  <li>Pushing PostgreSQL data to Airtable</li>
  <li>Deploying code to Airplane via Airplane’s CLI</li>
  <li>Scheduling a recurring task in Airplane</li>
</ul>

<p>To summarize, we will be creating a Python script that checks a PostgreSQL database for newly-added users and outputs those entries into Airtable; this script will be uploaded to Airplane and then triggered periodically with the help of Airplane’s task-scheduling.</p>

<p>Let’s get started!</p>

<h2 id="setting-up-a-postgresql-database-with-supabase">Setting up a PostgreSQL database with Supabase</h2>

<p>For those unfamiliar, Supabase is an open-source Firebase alternative. What this means is you can create an entire backend with ease, including a PostgreSQL database, authentication, APIs, real-time subscriptions and more. They offer a free-tier, which we will be using today.</p>

<p>Let’s navigate to Supabase and register for an account:</p>

<p>Once registered, click <strong>New Project</strong> and fill out the required information.</p>

<p>From here, we’ll navigate to the table editor so we can add in data to work with.</p>

<p>Next, we’ll navigate over to the project settings and obtain the credentials of the PostgreSQL database:</p>

<h2 id="setting-up-a-task-in-airplane">Setting up a task in Airplane</h2>

<p>To get started, you’ll need to register for an account, if you haven’t already: this can be a Google account, GitHub account or just regular email.</p>

<p>Now that we have access to the dashboard, we’ll go ahead and click <strong>Create Task</strong> → <strong>Task</strong></p>

<p>Airplane supports a few different languages out-of-the-box — if these happen to not fit your use-case, you have the ability to load entire Docker images for maximum usability.</p>

<p>In our case, we will be using <strong>Python</strong>.</p>

<p>From here, you’re instructed on how to download Airplane’s CLI and the task’s project file. For convenience, the following are OS-specific commands needed to download Airplane’s CLI:</p>

<p>After the CLI has been downloaded, we’ll need to authenticate our account:</p>

<p>Now, let’s download the task’s project file mentioned:</p>

<h2 id="pushing-postgresql-data-to-airtable">Pushing PostgreSQL data to Airtable</h2>

<p>Now that we have the project file downloaded, we can get started. First, we’ll need to obtain an API token from Airtable:</p>

<p>Going back to our script, let’s install the <strong>airtable</strong> package — this makes communicating with Airtable’s API a breeze:</p>

<p>Now, we’ll add the main logic to our script (comments included):</p>

<p># more details here</p>

<p>Our last step before moving on to deployment is to specify the requirements.txt file in the root of the project folder. This text file needs to contain all relevant Python packages Airplane should install before running the script. In our case, the text file will only contain one line:</p>

<h2 id="deploying-code-to-airplane-via-airplanes-cli">Deploying code to Airplane via Airplane’s CLI</h2>

<p>Great job! Now that we’ve put together the project files, we can push the script to Airplane via Airplane’s CLI:</p>

<h2 id="scheduling-a-recurring-task-in-airplane">Scheduling a recurring task in Airplane</h2>

<p>Now that we’ve deployed our script to Airplane’s task, we can now assign a schedule to run the task at a specific interval. For simplicity, we’ll assign a daily schedule:</p>

<p>The fact that you have the option to specify the interval in UNIX cron format is also a plus.</p>

<p>For your reference, the following is the completed code repository containing the relevant project files:</p>

<p>Airplane does an excellent job at managing and deploying Python scripts to the cloud, and it takes less than 5 minutes to be up and running. For a more in-depth look at Airplane’s capabilities, please take a look at their <a href="https://docs.airplane.dev/getting-started/quickstart-guide">official quick-start guide</a>.</p>

<p>Thanks for reading! We’ll see you next time.</p>

                </div>
            </section>

            <!-- Email subscribe form at the bottom of the page -->
            
                <section class="subscribe-form">
                    <h3 class="subscribe-form-title">Subscribe to Instructional Programming</h3>
                    <p>Get our latest posts delivered right to your inbox!</p>
                    <form name="subscribe" method="POST" action="/subscribed/" data-netlify="true">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit"><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

                </section>
            

            <footer class="post-full-footer">
                <!-- Everything inside the #author tags pulls data from the author -->
                <!-- #author-->
                
                    
                
                    
                
                    
                
                    
                
                    
                        <section class="author-card">
                            
                                <img class="author-profile-image" src="/assets/images/jeremiah.jpg" alt="jeremiah" />
                            
                            <section class="author-card-content">
                                <h4 class="author-card-name"><a href="/author/jeremiah">Jeremiah Harvey</a></h4>
                                
                                    <p>Still working on a good bio for myself!</p>
                                
                            </section>
                        </section>
                        <div class="post-full-footer-right">
                            <a class="author-card-button" href="/author/jeremiah">Read More</a>
                        </div>
                    
                
                <!-- /author  -->
            </footer>

            

        </article>

    </div>
</main>

<!-- Links to Previous/Next posts -->
<aside class="read-next outer">
    <div class="inner">
        <div class="read-next-feed">
            
                
                
                
                
                
            

            <!-- If there's a next post, display it using the same markup included from - partials/post-card.hbs -->
            

            <!-- If there's a previous post, display it using the same markup included from - partials/post-card.hbs -->
            

        </div>
    </div>
</aside>

<!-- Floating header which appears on-scroll, included from includes/floating-header.hbs -->
<div class="floating-header">
    <div class="floating-header-logo">
        <a href="http://localhost:4000/">
            
                <img src="/assets/images/favicon.png" alt="Instructional Programming icon" />
            
            <span>Instructional Programming</span>
        </a>
    </div>
    <span class="floating-header-divider">&mdash;</span>
    <div class="floating-header-title">How To Schedule Recurring Python Scripts in the Cloud With Airplane’s Task-Scheduling</div>
    <div class="floating-header-share">
        <div class="floating-header-share-label">Share this <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
    <path d="M7.5 15.5V4a1.5 1.5 0 1 1 3 0v4.5h2a1 1 0 0 1 1 1h2a1 1 0 0 1 1 1H18a1.5 1.5 0 0 1 1.5 1.5v3.099c0 .929-.13 1.854-.385 2.748L17.5 23.5h-9c-1.5-2-5.417-8.673-5.417-8.673a1.2 1.2 0 0 1 1.76-1.605L7.5 15.5zm6-6v2m-3-3.5v3.5m6-1v2"/>
</svg>
</div>
        <a class="floating-header-share-tw" href="https://twitter.com/share?text=How+To+Schedule+Recurring+Python+Scripts+in+the+Cloud+With+Airplane%E2%80%99s+Task-Scheduling&amp;url=http://localhost:4000 /welcome"
            onclick="window.open(this.href, 'share-twitter', 'width=550,height=235');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M30.063 7.313c-.813 1.125-1.75 2.125-2.875 2.938v.75c0 1.563-.188 3.125-.688 4.625a15.088 15.088 0 0 1-2.063 4.438c-.875 1.438-2 2.688-3.25 3.813a15.015 15.015 0 0 1-4.625 2.563c-1.813.688-3.75 1-5.75 1-3.25 0-6.188-.875-8.875-2.625.438.063.875.125 1.375.125 2.688 0 5.063-.875 7.188-2.5-1.25 0-2.375-.375-3.375-1.125s-1.688-1.688-2.063-2.875c.438.063.813.125 1.125.125.5 0 1-.063 1.5-.25-1.313-.25-2.438-.938-3.313-1.938a5.673 5.673 0 0 1-1.313-3.688v-.063c.813.438 1.688.688 2.625.688a5.228 5.228 0 0 1-1.875-2c-.5-.875-.688-1.813-.688-2.75 0-1.063.25-2.063.75-2.938 1.438 1.75 3.188 3.188 5.25 4.25s4.313 1.688 6.688 1.813a5.579 5.579 0 0 1 1.5-5.438c1.125-1.125 2.5-1.688 4.125-1.688s3.063.625 4.188 1.813a11.48 11.48 0 0 0 3.688-1.375c-.438 1.375-1.313 2.438-2.563 3.188 1.125-.125 2.188-.438 3.313-.875z"/></svg>

        </a>
        <a class="floating-header-share-fb" href="https://www.facebook.com/sharer/sharer.php?u=http://localhost:4000/welcome"
            onclick="window.open(this.href, 'share-facebook','width=580,height=296');return false;">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><path d="M19 6h5V0h-5c-3.86 0-7 3.14-7 7v3H8v6h4v16h6V16h5l1-6h-6V7c0-.542.458-1 1-1z"/></svg>

        </a>
    </div>
    <progress class="progress" value="0">
        <div class="progress-container">
            <span class="progress-bar"></span>
        </div>
    </progress>
</div>


<!-- /post -->

<!-- The #contentFor helper here will send everything inside it up to the matching #block helper found in default.hbs -->


        <!-- Previous/next page links - displayed on every page -->
        

        <!-- The footer at the very bottom of the screen -->
        <footer class="site-footer outer">
            <div class="site-footer-content inner">
                <section class="copyright"><a href="http://localhost:4000/">Instructional Programming</a> &copy; 2022</section>
                <section class="poweredby">Made with ❤️ | Your go-to for daily programming advice!</a></section>
                <nav class="site-footer-nav">
                    <a href="/">Latest Posts</a>
                    <a href="https://facebook.com/instructionalprogramming" target="_blank" rel="noopener">Facebook</a>
                    <a href="https://instagram.com/instructionalprogramming" target="_blank" rel="noopener">Instagram</a>
                    <a href="https://twitter.com/InstructProgram" target="_blank" rel="noopener">Twitter</a>
                </nav>
            </div>
        </footer>

    </div>

    <!-- The big email subscribe modal content -->
    
        <div id="subscribe" class="subscribe-overlay">
            <a class="subscribe-overlay-close" href="#"></a>
            <div class="subscribe-overlay-content">
                
                    <img class="subscribe-overlay-logo" src="/assets/images/blog-icon.png" alt="Instructional Programming" />
                
                <h1 class="subscribe-overlay-title">Subscribe to Instructional Programming</h1>
                <p class="subscribe-overlay-description">Stay up to date! Get all of our latest &amp; greatest posts delivered straight to your inbox</p>
                <form name="subscribe" method="POST" action="/subscribed/" data-netlify="true">
    <input class="confirm" type="hidden" name="confirm"  /><input class="location" type="hidden" name="location"  /><input class="referrer" type="hidden" name="referrer"  />

    <div class="form-group">
        <input class="subscribe-email" type="email" name="email"  placeholder="youremail@example.com" />
    </div>
    <button class="" type="submit"><span>Subscribe</span></button>
    <script type="text/javascript">(function(g,h,o,s,t){h[o]('.location')[s]=h[o]('.location')[s] || g.location.href;h[o]('.referrer')[s]=h[o]('.referrer')[s] || h.referrer;})(window,document,'querySelector','value');</script>
</form>

            </div>
        </div>
    

    <!-- Paginator increased to "infinit" in _config.yml -->
    <!-- if paginator.posts  -->
    <!-- <script>
        var maxPages = parseInt('');
    </script>
    <script src="/assets/js/infinitescroll.js"></script> -->
    <!-- /endif -->

    

    <!-- jQuery + Fitvids, which makes all video embeds responsive -->
    <script
    src="https://code.jquery.com/jquery-3.2.1.min.js"
    integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous"
    ></script>
    <script
    type="text/javascript"
    src="/assets/js/jquery.fitvids.js"
    ></script>

    <!-- The #block helper will pull in data from the #contentFor other template files. In this case, there's some JavaScript which we only want to use in post.hbs, but it needs to be included down here, after jQuery has already loaded. -->
    
        <script>

// NOTE: Scroll performance is poor in Safari
// - this appears to be due to the events firing much more slowly in Safari.
//   Dropping the scroll event and using only a raf loop results in smoother
//   scrolling but continuous processing even when not scrolling
$(document).ready(function () {
    // Start fitVids
    var $postContent = $(".post-full-content");
    $postContent.fitVids();
    // End fitVids

    var progressBar = document.querySelector('progress');
    var header = document.querySelector('.floating-header');
    var title = document.querySelector('.post-full-title');

    var lastScrollY = window.scrollY;
    var lastWindowHeight = window.innerHeight;
    var lastDocumentHeight = $(document).height();
    var ticking = false;

    function onScroll() {
        lastScrollY = window.scrollY;
        requestTick();
    }

    function onResize() {
        lastWindowHeight = window.innerHeight;
        lastDocumentHeight = $(document).height();
        requestTick();
    }

    function requestTick() {
        if (!ticking) {
            requestAnimationFrame(update);
        }
        ticking = true;
    }

    function update() {
        var trigger = title.getBoundingClientRect().top + window.scrollY;
        var triggerOffset = title.offsetHeight + 35;
        var progressMax = lastDocumentHeight - lastWindowHeight;

        // show/hide floating header
        if (lastScrollY >= trigger + triggerOffset) {
            header.classList.add('floating-active');
        } else {
            header.classList.remove('floating-active');
        }

        progressBar.setAttribute('max', progressMax);
        progressBar.setAttribute('value', lastScrollY);

        ticking = false;
    }

    window.addEventListener('scroll', onScroll, {passive: true});
    window.addEventListener('resize', onResize, false);

    update();
});
</script>

    

    <!-- Ghost outputs important scripts and data with this tag - it should always be the very last thing before the closing body tag -->
    <!-- ghost_foot -->

</body>
</html>
